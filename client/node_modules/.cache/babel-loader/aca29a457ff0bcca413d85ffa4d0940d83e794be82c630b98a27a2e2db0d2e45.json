{"ast":null,"code":"var _jsxFileName = \"/Users/jeongdahyun/coin_trading_project/coin_trading_project/client/src/Coin_chart/ApexChart.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport ReactApexChart from \"react-apexcharts\";\nimport dayjs from 'dayjs';\nimport axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport { Button } from \"react-bootstrap\";\nimport \"./ApexChart.css\";\nimport chart_reducer from \"../_reducers/chart_reducer\";\nimport Reducer from \"../_reducers\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ApexChart() {\n  _s();\n  const [minute_, set_minute_] = useState(60);\n  const [time_, set_time_] = useState(true);\n  const [coinInfo, setcoinInfo] = useState([]);\n  const coin_name_ = useSelector(Reducer => Reducer.chartState.str);\n\n  //Upbit API\n  // 일별로 데이터 받을 때 \n  const getApi_day = async coin_name => {\n    await axios.get('https://api.upbit.com/v1/candles/days/?market=KRW-' + coin_name + '&count=100').then(res => {\n      // console.log(res);\n      for (let i = 0; i < res.data.length; i++) {\n        if (res.data[i].market != null) {\n          setcoinInfo(prev => {\n            return [...prev, res.data[i]];\n          });\n        } else {\n          alert(\"error\");\n        }\n      }\n    });\n  };\n  // console.log(minute_);\n  // 분당 데이터 받을 때 \n  const getApi_minute = async coin_name => {\n    await axios.get('https://api.upbit.com/v1/candles/minutes/' + minute_ + '/?market=KRW-' + coin_name + '&count=100').then(res => {\n      for (let i = 0; i < res.data.length; i++) {\n        if (res.data[i].market != null) {\n          setcoinInfo(prev => {\n            return [...prev, res.data[i]];\n          });\n        } else {\n          alert(\"error\");\n        }\n      }\n    });\n    // console.log(minute_);\n  };\n\n  useEffect(() => {\n    // console.log(\"coin::\", coin_name_);\n    time_ ? getApi_day(coin_name_) : getApi_minute(coin_name_);\n  }, [coin_name_, minute_, time_]);\n\n  // 시간을 바꾸는 함수 \n  const change_minute = time => {\n    set_minute_(time);\n    set_time_(false);\n  };\n\n  // 일을 바꾸는 함수 \n  const change_day = () => {\n    // set_minute_(time);\n    set_time_(true);\n  };\n  const [time, setTime] = useState([]);\n  const [open, setOpen] = useState([]);\n  const [low, setLow] = useState([]);\n  const [close, setClose] = useState([]);\n  const [high, setHigh] = useState([]);\n  const [data_ex, setData_ex] = useState([]);\n  time.length = 0;\n  open.length = 0;\n  low.length = 0;\n  close.length = 0;\n  high.length = 0;\n  data_ex.length = 0;\n\n  // console.log(xrpInfo)\n  coinInfo.map(_ref => {\n    let {\n      candle_date_time_kst,\n      opening_price,\n      high_price,\n      low_price,\n      trade_price\n    } = _ref;\n    time.push(candle_date_time_kst);\n    open.push(opening_price);\n    high.push(high_price);\n    low.push(low_price);\n    close.push(trade_price);\n  });\n  time.reverse();\n  open.reverse();\n  high.reverse();\n  low.reverse();\n  close.reverse();\n  for (let i = 0; i < time.length; i++) {\n    data_ex.push({\n      x: time[i],\n      y: [open[i], high[i], low[i], close[i]]\n    });\n  }\n  coinInfo.length = 0;\n  const series = [{\n    name: 'candle',\n    data: data_ex\n  }];\n  const options = {\n    chart: {\n      height: 350,\n      type: 'candlestick'\n    },\n    title: {\n      text: coin_name_ + \" Chart\",\n      align: 'left',\n      style: {\n        color: '#DBE0D5'\n      }\n    },\n    subtitle: {\n      text: close[99] + \" KRW\",\n      align: 'left',\n      style: {\n        fontSize: '20px',\n        fontWeight: 'bold',\n        fontFamily: undefined,\n        color: '#DBE0D5'\n      }\n    },\n    xaxis: {\n      type: 'category',\n      labels: {\n        formatter: function (val) {\n          return dayjs(val).format('MMM DD HH:mm');\n        }\n      }\n    },\n    yaxis: {\n      tooltip: {\n        enabled: true\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"chart\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        className: \"btn_oneminite\",\n        onClick: () => change_minute(1),\n        children: \"1\\uBD84\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"btn_thirtyminite\",\n        onClick: () => change_minute(30),\n        children: \"30\\uBD84\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"btn_onehour\",\n        onClick: () => change_minute(60),\n        children: \"1\\uC2DC\\uAC04\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"btn_fourhour\",\n        onClick: () => change_minute(240),\n        children: \"4\\uC2DC\\uAC04\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"btn_oneday\",\n        onClick: () => change_day(),\n        children: \"1\\uC77C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(ReactApexChart, {\n      options: options,\n      series: series,\n      type: \"candlestick\",\n      height: 400,\n      width: 500\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 3\n  }, this);\n}\n\n// export default connect(mapStateToProps)(ApexChart);\n// export default ApexChart;\n_s(ApexChart, \"Su4kH638kHbQ875OrSHDT+wzI9c=\", false, function () {\n  return [useSelector];\n});\n_c = ApexChart;\nvar _c;\n$RefreshReg$(_c, \"ApexChart\");","map":{"version":3,"names":["React","useEffect","useState","ReactApexChart","dayjs","axios","useSelector","Button","chart_reducer","Reducer","ApexChart","minute_","set_minute_","time_","set_time_","coinInfo","setcoinInfo","coin_name_","chartState","str","getApi_day","coin_name","get","then","res","i","data","length","market","prev","alert","getApi_minute","change_minute","time","change_day","setTime","open","setOpen","low","setLow","close","setClose","high","setHigh","data_ex","setData_ex","map","candle_date_time_kst","opening_price","high_price","low_price","trade_price","push","reverse","x","y","series","name","options","chart","height","type","title","text","align","style","color","subtitle","fontSize","fontWeight","fontFamily","undefined","xaxis","labels","formatter","val","format","yaxis","tooltip","enabled"],"sources":["/Users/jeongdahyun/coin_trading_project/coin_trading_project/client/src/Coin_chart/ApexChart.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport ReactApexChart from \"react-apexcharts\";\nimport dayjs from 'dayjs'\nimport axios from 'axios'\nimport {useSelector} from 'react-redux';\nimport { Button } from \"react-bootstrap\";\nimport \"./ApexChart.css\";\nimport chart_reducer from \"../_reducers/chart_reducer\";\nimport Reducer from \"../_reducers\";\n\n\nexport default function ApexChart(){\n    const [minute_, set_minute_] = useState(60);\n    const [time_, set_time_] = useState(true);\n    const [coinInfo, setcoinInfo] = useState([]);\n    const coin_name_ = useSelector(Reducer => Reducer.chartState.str);\n\n//Upbit API\n    // 일별로 데이터 받을 때 \n    const getApi_day = async(coin_name) =>{ \n      await axios.get('https://api.upbit.com/v1/candles/days/?market=KRW-'+ coin_name +'&count=100')\n      .then((res) =>{\n        // console.log(res);\n        for(let i = 0; i < res.data.length; i++){\n          if(res.data[i].market != null){\n              setcoinInfo(prev => {return [...prev, res.data[i]]})\n          }else{\n              alert(\"error\");\n          }\n        }\n      }) \n    }\n      // console.log(minute_);\n    // 분당 데이터 받을 때 \n    const getApi_minute = async(coin_name) =>{\n      await axios.get('https://api.upbit.com/v1/candles/minutes/'+minute_+'/?market=KRW-'+ coin_name +'&count=100')\n      .then((res) =>{\n      for(let i = 0; i < res.data.length; i++){\n          if(res.data[i].market != null){\n                  setcoinInfo(prev => {return [...prev, res.data[i]]})\n          }else{\n              alert(\"error\");\n          }\n      }\n      }) \n      // console.log(minute_);\n    }\n    useEffect(() => {\n      // console.log(\"coin::\", coin_name_);\n      time_ ? (getApi_day(coin_name_)) : (getApi_minute(coin_name_));\n    },[coin_name_ , minute_, time_])\n\n    // 시간을 바꾸는 함수 \n    const change_minute = (time) =>{\n      set_minute_(time);\n      set_time_(false);\n    }\n\n    // 일을 바꾸는 함수 \n    const change_day = () =>{  \n      // set_minute_(time);\n      set_time_(true);\n    }\n\n    const [time, setTime] = useState([]);\n    const [open, setOpen] = useState([]);\n    const [low, setLow] = useState([]);\n    const [close, setClose] = useState([]);\n    const [high, setHigh] = useState([]);\n    const [data_ex, setData_ex] = useState([]);\n    time.length = 0;\n    open.length = 0;\n    low.length = 0;\n    close.length = 0;\n    high.length = 0;\n    data_ex.length = 0;\n\n\n    // console.log(xrpInfo)\n    coinInfo.map(({candle_date_time_kst, opening_price, high_price, low_price, trade_price}) =>{\n      time.push(candle_date_time_kst);\n      open.push(opening_price);\n      high.push(high_price);\n      low.push(low_price);\n      close.push(trade_price);\n    });\n\n    time.reverse();\n    open.reverse();\n    high.reverse();\n    low.reverse();\n    close.reverse();\n\n    for(let i=0;i<time.length;i++){\n      data_ex.push({x:time[i], y:[open[i],high[i],low[i],close[i]]});\n    }\n\n    coinInfo.length = 0;\n    const series = [{\n      name: 'candle',\n      data: data_ex\n      },] \n\n    const options = {\n            chart: {\n              height: 350,\n              type: 'candlestick',\n              \n            },\n            title: {\n              text: coin_name_+\" Chart\",\n              align: 'left',\n              style: {\n                color: '#DBE0D5'\n              }\n            },\n            subtitle:{\n              text: close[99]+ \" KRW\",\n              align: 'left',\n              style: {\n                fontSize:  '20px',\n                fontWeight:  'bold',\n                fontFamily:  undefined,\n                color:  '#DBE0D5'\n              },\n            },\n            xaxis: {\n              type: 'category',\n              labels: {\n                formatter: function(val){\n                  return dayjs(val).format('MMM DD HH:mm')\n                }\n              },\n            },\n            yaxis: {\n              tooltip: {\n                enabled: true\n              }\n            }\n          }\n\n      return (\n  <div id=\"chart\">\n    <div>\n    <Button className=\"btn_oneminite\" onClick={() => change_minute(1)} >1분</Button>\n    <Button className=\"btn_thirtyminite\" onClick={() => change_minute(30)}>30분</Button>\n    <Button className=\"btn_onehour\" onClick={() => change_minute(60)}>1시간</Button>\n    <Button className=\"btn_fourhour\" onClick={() => change_minute(240)}>4시간</Button>  \n    <Button className=\"btn_oneday\" onClick={() => change_day()}>1일</Button> \n    </div> \n    {/* <Button onClick={()=>setname('BTC')}>클릭</Button> */}\n<ReactApexChart options={options} series={series} type=\"candlestick\" height={400} width={500}/>\n  </div>\n      );\n}\n\n\n// export default connect(mapStateToProps)(ApexChart);\n// export default ApexChart;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}